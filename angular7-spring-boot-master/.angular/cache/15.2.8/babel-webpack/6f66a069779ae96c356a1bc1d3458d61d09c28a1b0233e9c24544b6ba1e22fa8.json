{"ast":null,"code":"import _defineProperty from \"E:/Programs/SpringAngularProject/angular7-springboot-crud-tutorial-master/update-version/angular7-spring-boot-master/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { PipeTransform } from '@angular/core';\nimport { HttpCourierService } from '../../../service/courier/http-courier.service';\nimport { map, startWith } from 'rxjs/operators';\nimport { FormControl } from '@angular/forms';\nimport { DecimalPipe } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/courier/http-courier.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../headers/header-courier/header-courier.component\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nfunction DeliveredPackagesComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelement(6, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵelement(8, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵelement(10, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelement(12, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵelement(14, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\");\n    i0.ɵɵelement(16, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\");\n    i0.ɵɵelement(18, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"td\");\n    i0.ɵɵelement(20, \"ngb-highlight\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const package_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.package_id)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.name_package)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.typePackage.type_name)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.customer.name + \" \" + package_r1.customer.last_name)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.customer.phone)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.customer.address)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.package_price)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.total_cost)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.date_delivery_package)(\"term\", ctx_r0.filter.value);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"result\", package_r1.statusPackage.status_type)(\"term\", ctx_r0.filter.value);\n  }\n}\n// tslint:disable-next-line:prefer-const\nlet deliveredPackages;\nfunction search(text, pipe) {\n  return deliveredPackages.filter(packages => {\n    const term = text.toLowerCase();\n    // @ts-ignore\n    return packages.statusPackage.status_type.toLowerCase().includes(term) || pipe.transform(packages.name_package).includes(term) || pipe.transform(packages.typePackage.type_name).toLowerCase().includes(term) || pipe.transform(packages.customer.name).includes(term);\n  });\n}\nexport let DeliveredPackagesComponent = /*#__PURE__*/(() => {\n  class DeliveredPackagesComponent {\n    constructor(httpService, pipe) {\n      _defineProperty(this, \"httpService\", void 0);\n      _defineProperty(this, \"pipe\", void 0);\n      _defineProperty(this, \"deliveredPackages$\", void 0);\n      _defineProperty(this, \"username\", void 0);\n      _defineProperty(this, \"filter\", new FormControl(''));\n      this.httpService = httpService;\n      this.pipe = pipe;\n      this.username = sessionStorage.getItem('username');\n      console.log(this.username);\n      this.httpService.getDeliveredPackages(this.username).subscribe(data => {\n        // @ts-ignore\n        deliveredPackages = [...data];\n        this.deliveredPackages$ = this.filter.valueChanges.pipe(startWith(''), map(text => search(text, pipe)));\n      });\n    }\n    ngOnInit() {}\n  }\n  _defineProperty(DeliveredPackagesComponent, \"\\u0275fac\", function DeliveredPackagesComponent_Factory(t) {\n    return new (t || DeliveredPackagesComponent)(i0.ɵɵdirectiveInject(i1.HttpCourierService), i0.ɵɵdirectiveInject(i2.DecimalPipe));\n  });\n  _defineProperty(DeliveredPackagesComponent, \"\\u0275cmp\", /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DeliveredPackagesComponent,\n    selectors: [[\"app-delivered-packages\"]],\n    decls: 27,\n    vars: 3,\n    consts: [[1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"result\", \"term\"]],\n    template: function DeliveredPackagesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header-courier\");\n        i0.ɵɵelementStart(1, \"table\", 0)(2, \"thead\")(3, \"tr\")(4, \"th\", 1);\n        i0.ɵɵtext(5, \"\\u041A\\u043E\\u0434 \\u043D\\u0430 \\u043F\\u0440\\u0430\\u0442\\u043A\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"th\", 1);\n        i0.ɵɵtext(7, \"\\u0418\\u043C\\u0435 \\u043D\\u0430 \\u043F\\u0440\\u0430\\u0442\\u043A\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"th\", 1);\n        i0.ɵɵtext(9, \"\\u0422\\u0438\\u043F \\u043D\\u0430 \\u043F\\u0440\\u0430\\u0442\\u043A\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\", 1);\n        i0.ɵɵtext(11, \"\\u0418\\u043C\\u0435 \\u043D\\u0430 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\", 1);\n        i0.ɵɵtext(13, \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0435\\u043D \\u043D\\u043E\\u043C\\u0435\\u0440 \\u043D\\u0430 \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"th\", 1);\n        i0.ɵɵtext(15, \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u0437\\u0430 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"th\", 1);\n        i0.ɵɵtext(17, \"\\u0426\\u0435\\u043D\\u0430 \\u043D\\u0430 \\u043F\\u0440\\u0430\\u0442\\u043A\\u0430\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"th\", 1);\n        i0.ɵɵtext(19, \"\\u041E\\u0431\\u0449\\u0430 \\u0446\\u0435\\u043D\\u0430(\\u0441 \\u0432\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0430 \\u0442\\u0430\\u043A\\u0441\\u0430)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"th\", 1);\n        i0.ɵɵtext(21, \"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u044F\\u043D\\u0435\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"th\", 1);\n        i0.ɵɵtext(23, \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u043D\\u0430 \\u043F\\u0440\\u0430\\u0442\\u043A\\u0430\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"tbody\");\n        i0.ɵɵtemplate(25, DeliveredPackagesComponent_tr_25_Template, 21, 20, \"tr\", 2);\n        i0.ɵɵpipe(26, \"async\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(26, 1, ctx.deliveredPackages$));\n      }\n    },\n    dependencies: [i2.NgForOf, i3.HeaderCourierComponent, i4.NgbHighlight, i2.AsyncPipe]\n  }));\n  return DeliveredPackagesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}