{"ast":null,"code":"import { __decorate, __metadata, __spreadArray } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./list-packages.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./list-packages.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { HttpAdiministratorService } from '../../../service/administrator/http-adiministrator.service';\nimport { DataService } from '../../../service/data.service';\nimport { DecimalPipe } from '@angular/common';\nimport { map, startWith } from 'rxjs/operators';\n// tslint:disable-next-line:prefer-const\nvar packages;\n// tslint:disable-next-line:label-position no-unused-expression\nfunction search(text, pipe) {\n  return packages.filter(function (packageSearch) {\n    console.log(packageSearch);\n    var term = text.toLowerCase();\n    return packageSearch.name_package.toLowerCase().includes(term) || packageSearch.customer.name.toLowerCase().includes(term) || packageSearch.typePackage.type_name.toLowerCase().includes(term) || packageSearch.customer.phone.toLowerCase().includes(term);\n  });\n}\nvar ListPackagesComponent = /** @class */function () {\n  // tslint:disable-next-line:max-line-length\n  function ListPackagesComponent(router, apiService, dataService, pipe) {\n    var _this = this;\n    this.router = router;\n    this.apiService = apiService;\n    this.dataService = dataService;\n    this.pipe = pipe;\n    this.filter = new FormControl('');\n    this.apiService.getAllPackages().subscribe(function (data) {\n      // @ts-ignore\n      packages = __spreadArray([], data, true);\n      console.log(packages);\n      // this.users = data;\n      _this.result$ = _this.filter.valueChanges.pipe(startWith(''),\n      // tslint:disable-next-line:no-shadowed-variable\n      map(function (text) {\n        return search(text, pipe);\n      }));\n    });\n  }\n  ListPackagesComponent.prototype.ngOnInit = function () {};\n  ListPackagesComponent.ctorParameters = function () {\n    return [{\n      type: Router\n    }, {\n      type: HttpAdiministratorService\n    }, {\n      type: DataService\n    }, {\n      type: DecimalPipe\n    }];\n  };\n  ListPackagesComponent = __decorate([Component({\n    selector: 'app-list-packages',\n    template: __NG_CLI_RESOURCE__0,\n    styles: [__NG_CLI_RESOURCE__1]\n  }), __metadata(\"design:paramtypes\", [Router, HttpAdiministratorService, DataService, DecimalPipe])], ListPackagesComponent);\n  return ListPackagesComponent;\n}();\nexport { ListPackagesComponent };","map":{"version":3,"mappings":";;;AAAA,SAAQA,SAAS,QAA8B,eAAe;AAC9D,SAAQC,WAAW,QAAO,gBAAgB;AAC1C,SAAQC,MAAM,QAAO,iBAAiB;AACtC,SAAQC,yBAAyB,QAAO,4DAA4D;AACpG,SAAQC,WAAW,QAAO,+BAA+B;AACzD,SAAQC,WAAW,QAAO,iBAAiB;AAI3C,SAAQC,GAAG,EAAEC,SAAS,QAAO,gBAAgB;AAC7C;AACA,IAAIC,QAAoB;AACxB;AAEA,SAASC,MAAMA,CAACC,IAAY,EAAEC,IAAmB;EAC/C,OAAOH,QAAQ,CAACI,MAAM,CAAC,uBAAa;IAClCC,OAAO,CAACC,GAAG,CAACC,aAAa,CAAC;IAC1B,IAAMC,IAAI,GAAGN,IAAI,CAACO,WAAW,EAAE;IAC/B,OAAOF,aAAa,CAACG,YAAY,CAACD,WAAW,EAAE,CAACE,QAAQ,CAACH,IAAI,CAAC,IACzDD,aAAa,CAACK,QAAQ,CAACC,IAAI,CAACJ,WAAW,EAAE,CAACE,QAAQ,CAACH,IAAI,CAAC,IACxDD,aAAa,CAACO,WAAW,CAACC,SAAS,CAACN,WAAW,EAAE,CAACE,QAAQ,CAACH,IAAI,CAAC,IAChED,aAAa,CAACK,QAAQ,CAACI,KAAK,CAACP,WAAW,EAAE,CAACE,QAAQ,CAACH,IAAI,CAAC;EAChE,CAAC,CAAC;AACJ;AAOA;EAKE;EACA,+BAAoBS,MAAc,EAAUC,UAAqC,EAAUC,WAAwB,EAAUhB,IAAiB;IAA9I;IAAoB,WAAM,GAANc,MAAM;IAAkB,eAAU,GAAVC,UAAU;IAAqC,gBAAW,GAAXC,WAAW;IAAuB,SAAI,GAAJhB,IAAI;IALjI,WAAM,GAAG,IAAIV,WAAW,CAAC,EAAE,CAAC;IAM1B,IAAI,CAACyB,UAAU,CAACE,cAAc,EAAE,CAC7BC,SAAS,CAAE,cAAI;MACd;MACArB,QAAQ,qBAAOsB,IAAI,OAAC;MACpBjB,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC;MACrB;MACAuB,KAAI,CAACC,OAAO,GAAGD,KAAI,CAACnB,MAAM,CAACqB,YAAY,CAACtB,IAAI,CAC1CJ,SAAS,CAAC,EAAE,CAAC;MACb;MACAD,GAAG,CAAC,cAAI;QAAI,aAAM,CAACI,IAAI,EAAEC,IAAI,CAAC;MAAlB,CAAkB,CAAC,CAChC;IACH,CAAC,CAAC;EACN;EAEAuB,wCAAQ,GAAR,aACA,CAAC;;;;;;;;;;;;EAtBUA,qBAAqB,eAL7BlC,SAAS,CAAC;IACbmC,QAAQ,EAAE,mBAAmB;IAC7BC,8BAA6C;;GAE9C,CAAC,mCAO4BlC,MAAM,EAAsBC,yBAAyB,EAAuBC,WAAW,EAAgBC,WAAW,KANnI6B,qBAAqB,CAwBjC;EAAD,4BAAC;CAAA,CA7BG;SAKSA,qBAAqB","names":["Component","FormControl","Router","HttpAdiministratorService","DataService","DecimalPipe","map","startWith","packages","search","text","pipe","filter","console","log","packageSearch","term","toLowerCase","name_package","includes","customer","name","typePackage","type_name","phone","router","apiService","dataService","getAllPackages","subscribe","data","_this","result$","valueChanges","ListPackagesComponent","selector","template"],"sourceRoot":"","sources":["E:\\Programs\\SpringAngularProject\\angular7-springboot-crud-tutorial-master\\update-version\\angular7-spring-boot-master\\src\\app\\administrator\\layout-adiministrator\\list-packages\\list-packages.component.ts"],"sourcesContent":["import {Component, OnInit, PipeTransform} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {Router} from '@angular/router';\nimport {HttpAdiministratorService} from '../../../service/administrator/http-adiministrator.service';\nimport {DataService} from '../../../service/data.service';\nimport {DecimalPipe} from '@angular/common';\nimport {Observable} from 'rxjs';\nimport {Customer} from '../../../models/user';\nimport {Packages} from '../../../models/Packages';\nimport {map, startWith} from 'rxjs/operators';\n// tslint:disable-next-line:prefer-const\nlet packages: Packages[];\n// tslint:disable-next-line:label-position no-unused-expression\n\nfunction search(text: string, pipe: PipeTransform): Packages[] {\n  return packages.filter(packageSearch => {\n    console.log(packageSearch);\n    const term = text.toLowerCase();\n    return packageSearch.name_package.toLowerCase().includes(term)\n      || packageSearch.customer.name.toLowerCase().includes(term)\n      || packageSearch.typePackage.type_name.toLowerCase().includes(term)\n      || packageSearch.customer.phone.toLowerCase().includes(term);\n  });\n}\n\n    @Component({\n  selector: 'app-list-packages',\n  templateUrl: './list-packages.component.html',\n  styleUrls: ['./list-packages.component.css']\n})\nexport class ListPackagesComponent implements OnInit {\n  filter = new FormControl('');\n  // users: Customer[];\n  result$: Observable<Packages[]>;\n\n  // tslint:disable-next-line:max-line-length\n  constructor(private router: Router, private apiService: HttpAdiministratorService, private dataService: DataService, private pipe: DecimalPipe) {\n    this.apiService.getAllPackages()\n      .subscribe( data => {\n        // @ts-ignore\n        packages = [...data];\n        console.log(packages);\n        // this.users = data;\n        this.result$ = this.filter.valueChanges.pipe(\n          startWith(''),\n          // tslint:disable-next-line:no-shadowed-variable\n          map(text => search(text, pipe))\n        );\n      });\n  }\n\n  ngOnInit() {\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}