{"ast":null,"code":"import { __decorate, __metadata, __spreadArray } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./delivered-packages.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./delivered-packages.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { HttpCourierService } from '../../../service/courier/http-courier.service';\nimport { map, startWith } from 'rxjs/operators';\nimport { FormControl } from '@angular/forms';\nimport { DecimalPipe } from '@angular/common';\n// tslint:disable-next-line:prefer-const\nvar deliveredPackages;\nfunction search(text, pipe) {\n  return deliveredPackages.filter(function (packages) {\n    var term = text.toLowerCase();\n    // @ts-ignore\n    return packages.statusPackage.status_type.toLowerCase().includes(term) || pipe.transform(packages.name_package).includes(term) || pipe.transform(packages.typePackage.type_name).toLowerCase().includes(term) || pipe.transform(packages.customer.name).includes(term);\n  });\n}\nvar DeliveredPackagesComponent = /** @class */function () {\n  function DeliveredPackagesComponent(httpService, pipe) {\n    var _this = this;\n    this.httpService = httpService;\n    this.pipe = pipe;\n    this.filter = new FormControl('');\n    this.username = sessionStorage.getItem('username');\n    console.log(this.username);\n    this.httpService.getDeliveredPackages(this.username).subscribe(function (data) {\n      // @ts-ignore\n      deliveredPackages = __spreadArray([], data, true);\n      _this.deliveredPackages$ = _this.filter.valueChanges.pipe(startWith(''), map(function (text) {\n        return search(text, pipe);\n      }));\n    });\n  }\n  DeliveredPackagesComponent.prototype.ngOnInit = function () {};\n  DeliveredPackagesComponent.ctorParameters = function () {\n    return [{\n      type: HttpCourierService\n    }, {\n      type: DecimalPipe\n    }];\n  };\n  DeliveredPackagesComponent = __decorate([Component({\n    selector: 'app-delivered-packages',\n    template: __NG_CLI_RESOURCE__0,\n    styles: [__NG_CLI_RESOURCE__1]\n  }), __metadata(\"design:paramtypes\", [HttpCourierService, DecimalPipe])], DeliveredPackagesComponent);\n  return DeliveredPackagesComponent;\n}();\nexport { DeliveredPackagesComponent };","map":{"version":3,"mappings":";;;AAAA,SAAQA,SAAS,QAA8B,eAAe;AAG9D,SAAQC,kBAAkB,QAAO,+CAA+C;AAChF,SAAQC,GAAG,EAAEC,SAAS,QAAO,gBAAgB;AAC7C,SAAQC,WAAW,QAAO,gBAAgB;AAC1C,SAAQC,WAAW,QAAO,iBAAiB;AAC3C;AACA,IAAIC,iBAA6B;AAEjC,SAASC,MAAMA,CAACC,IAAY,EAAEC,IAAmB;EAC/C,OAAOH,iBAAiB,CAACI,MAAM,CAAC,kBAAQ;IACtC,IAAMC,IAAI,GAAGH,IAAI,CAACI,WAAW,EAAE;IAC/B;IACA,OAAOC,QAAQ,CAACC,aAAa,CAACC,WAAW,CAACH,WAAW,EAAE,CAACI,QAAQ,CAACL,IAAI,CAAC,IACjEF,IAAI,CAACQ,SAAS,CAACJ,QAAQ,CAACK,YAAY,CAAC,CAACF,QAAQ,CAACL,IAAI,CAAC,IACpDF,IAAI,CAACQ,SAAS,CAACJ,QAAQ,CAACM,WAAW,CAACC,SAAS,CAAC,CAACR,WAAW,EAAE,CAACI,QAAQ,CAACL,IAAI,CAAC,IAC3EF,IAAI,CAACQ,SAAS,CAACJ,QAAQ,CAACQ,QAAQ,CAACC,IAAI,CAAC,CAACN,QAAQ,CAACL,IAAI,CAAC;EAC5D,CAAC,CAAC;AACJ;AAOA;EAIE,oCAAoBY,WAA+B,EAAUd,IAAiB;IAA9E;IAAoB,gBAAW,GAAXc,WAAW;IAA8B,SAAI,GAAJd,IAAI;IADjE,WAAM,GAAG,IAAIL,WAAW,CAAC,EAAE,CAAC;IAE1B,IAAI,CAACoB,QAAQ,GAAGC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC;IAClDC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,QAAQ,CAAC;IAC1B,IAAI,CAACD,WAAW,CAACM,oBAAoB,CAAC,IAAI,CAACL,QAAQ,CAAC,CAACM,SAAS,CAAC,cAAI;MACjE;MACAxB,iBAAiB,qBAAOyB,IAAI,OAAC;MAC7BC,KAAI,CAACC,kBAAkB,GAAGD,KAAI,CAACtB,MAAM,CAACwB,YAAY,CAACzB,IAAI,CACrDN,SAAS,CAAC,EAAE,CAAC,EACbD,GAAG,CAAC,cAAI;QAAI,aAAM,CAACM,IAAI,EAAEC,IAAI,CAAC;MAAlB,CAAkB,CAAC,CAChC;IACH,CAAC,CAAC;EACJ;EAEA0B,6CAAQ,GAAR,aACA,CAAC;;;;;;;;EAlBUA,0BAA0B,eALtCnC,SAAS,CAAC;IACToC,QAAQ,EAAE,wBAAwB;IAClCC,8BAAkD;;GAEnD,CAAC,mCAKiCpC,kBAAkB,EAAgBI,WAAW,KAJnE8B,0BAA0B,CAoBtC;EAAD,iCAAC;CAAA,CAzBD;SAKaA,0BAA0B","names":["Component","HttpCourierService","map","startWith","FormControl","DecimalPipe","deliveredPackages","search","text","pipe","filter","term","toLowerCase","packages","statusPackage","status_type","includes","transform","name_package","typePackage","type_name","customer","name","httpService","username","sessionStorage","getItem","console","log","getDeliveredPackages","subscribe","data","_this","deliveredPackages$","valueChanges","DeliveredPackagesComponent","selector","template"],"sourceRoot":"","sources":["E:\\Programs\\SpringAngularProject\\angular7-springboot-crud-tutorial-master\\update-version\\angular7-spring-boot-master\\src\\app\\courier\\layout-courier\\delivered-packages\\delivered-packages.component.ts"],"sourcesContent":["import {Component, OnInit, PipeTransform} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {Packages} from '../../../models/Packages';\nimport {HttpCourierService} from '../../../service/courier/http-courier.service';\nimport {map, startWith} from 'rxjs/operators';\nimport {FormControl} from '@angular/forms';\nimport {DecimalPipe} from '@angular/common';\n// tslint:disable-next-line:prefer-const\nlet deliveredPackages: Packages[];\n\nfunction search(text: string, pipe: PipeTransform): Packages[] {\n  return deliveredPackages.filter(packages => {\n    const term = text.toLowerCase();\n    // @ts-ignore\n    return packages.statusPackage.status_type.toLowerCase().includes(term)\n      || pipe.transform(packages.name_package).includes(term)\n      || pipe.transform(packages.typePackage.type_name).toLowerCase().includes(term)\n      || pipe.transform(packages.customer.name).includes(term);\n  });\n}\n\n@Component({\n  selector: 'app-delivered-packages',\n  templateUrl: './delivered-packages.component.html',\n  styleUrls: ['./delivered-packages.component.css']\n})\nexport class DeliveredPackagesComponent implements OnInit {\n  deliveredPackages$: Observable<Packages[]>;\n  username: string;\n  filter = new FormControl('');\n  constructor(private httpService: HttpCourierService, private pipe: DecimalPipe) {\n    this.username = sessionStorage.getItem('username');\n    console.log(this.username);\n    this.httpService.getDeliveredPackages(this.username).subscribe(data => {\n      // @ts-ignore\n      deliveredPackages = [...data];\n      this.deliveredPackages$ = this.filter.valueChanges.pipe(\n        startWith(''),\n        map(text => search(text, pipe))\n      );\n    });\n  }\n\n  ngOnInit() {\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}